import{s as $e,n as ce,d as p,i as P,b as a,l as s,m as et,g,c as d,e as k,o as T,j as C,h as f,p as tt,a as ke,x as Fe,f as re,y as ze,t as oe,v as O,q as ye,G as Ge,r as lt,u as q,w as st,z as at}from"../chunks/CVjQFEho.js";import{e as Re}from"../chunks/D6YF6ztN.js";import{S as nt,i as it}from"../chunks/OdZnOW3T.js";import{l as rt,j as ot}from"../chunks/DXV66Os-.js";function Je(c,t,e){const l=c.slice();return l[18]=t[e],l}function We(c){let t,e,l,r,i,n;return{c(){t=f("div"),e=f("p"),l=ze("svg"),r=ze("path"),i=C(),n=oe(c[3]),this.h()},l(o){t=d(o,"DIV",{class:!0});var _=k(t);e=d(_,"P",{class:!0});var u=k(e);l=Fe(u,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var m=k(l);r=Fe(m,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),k(r).forEach(p),m.forEach(p),i=g(u),n=re(u,c[3]),u.forEach(p),_.forEach(p),this.h()},h(){s(r,"stroke-linecap","round"),s(r,"stroke-linejoin","round"),s(r,"stroke-width","2"),s(r,"d","M5 13l4 4L19 7"),s(l,"class","w-4 h-4"),s(l,"fill","none"),s(l,"stroke","currentColor"),s(l,"viewBox","0 0 24 24"),s(e,"class","text-gauge-green text-sm flex items-center gap-2"),s(t,"class","mb-6 p-4 bg-gauge-green/10 border border-gauge-green/30 rounded-lg animate-fade-in")},m(o,_){P(o,t,_),a(t,e),a(e,l),a(l,r),a(e,i),a(e,n)},p(o,_){_&8&&ke(n,o[3])},d(o){o&&p(t)}}}function Ye(c){let t,e=`<svg class="w-4 h-4 inline mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg>
					Add Vehicle`,l,r;return{c(){t=f("button"),t.innerHTML=e,this.h()},l(i){t=d(i,"BUTTON",{class:!0,"data-svelte-h":!0}),T(t)!=="svelte-t93401"&&(t.innerHTML=e),this.h()},h(){s(t,"class","btn-primary")},m(i,n){P(i,t,n),l||(r=O(t,"click",c[9]),l=!0)},p:ce,d(i){i&&p(t),l=!1,r()}}}function ct(c){let t,e;function l(o,_){if(o[0].length>0)return ft;if(!o[4])return dt}let r=l(c),i=r&&r(c),n=c[4]&&Xe(c);return{c(){i&&i.c(),t=C(),n&&n.c(),e=Ge()},l(o){i&&i.l(o),t=g(o),n&&n.l(o),e=Ge()},m(o,_){i&&i.m(o,_),P(o,t,_),n&&n.m(o,_),P(o,e,_)},p(o,_){r===(r=l(o))&&i?i.p(o,_):(i&&i.d(1),i=r&&r(o),i&&(i.c(),i.m(t.parentNode,t))),o[4]?n?n.p(o,_):(n=Xe(o),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(o){o&&(p(t),p(e)),i&&i.d(o),n&&n.d(o)}}}function ut(c){let t,e='<p class="text-carbon-400">Loading vehicles...</p>';return{c(){t=f("div"),t.innerHTML=e,this.h()},l(l){t=d(l,"DIV",{class:!0,"data-svelte-h":!0}),T(t)!=="svelte-1h36fne"&&(t.innerHTML=e),this.h()},h(){s(t,"class","card animate-pulse")},m(l,r){P(l,t,r)},p:ce,d(l){l&&p(t)}}}function dt(c){let t,e,l="No vehicles configured yet.",r,i,n="Add Your First Vehicle",o,_;return{c(){t=f("div"),e=f("p"),e.textContent=l,r=C(),i=f("button"),i.textContent=n,this.h()},l(u){t=d(u,"DIV",{class:!0});var m=k(t);e=d(m,"P",{class:!0,"data-svelte-h":!0}),T(e)!=="svelte-5npmz1"&&(e.textContent=l),r=g(m),i=d(m,"BUTTON",{class:!0,"data-svelte-h":!0}),T(i)!=="svelte-1y13xuu"&&(i.textContent=n),m.forEach(p),this.h()},h(){s(e,"class","text-carbon-400 mb-4"),s(i,"class","btn-primary"),s(t,"class","card text-center py-8 mb-6")},m(u,m){P(u,t,m),a(t,e),a(t,r),a(t,i),o||(_=O(i,"click",c[10]),o=!0)},p:ce,d(u){u&&p(t),o=!1,_()}}}function ft(c){let t,e=Re(c[0]),l=[];for(let r=0;r<e.length;r+=1)l[r]=Qe(Je(c,e,r));return{c(){t=f("div");for(let r=0;r<l.length;r+=1)l[r].c();this.h()},l(r){t=d(r,"DIV",{class:!0});var i=k(t);for(let n=0;n<l.length;n+=1)l[n].l(i);i.forEach(p),this.h()},h(){s(t,"class","space-y-3 mb-6")},m(r,i){P(r,t,i);for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(t,null)},p(r,i){if(i&1){e=Re(r[0]);let n;for(n=0;n<e.length;n+=1){const o=Je(r,e,n);l[n]?l[n].p(o,i):(l[n]=Qe(o),l[n].c(),l[n].m(t,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=e.length}},d(r){r&&p(t),at(l,r)}}}function Ke(c){let t,e="Default";return{c(){t=f("span"),t.textContent=e,this.h()},l(l){t=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),T(t)!=="svelte-1qqnlnu"&&(t.textContent=e),this.h()},h(){s(t,"class","px-3 py-1 text-xs font-medium bg-accent-primary/20 text-accent-primary rounded-full")},m(l,r){P(l,t,r)},d(l){l&&p(t)}}}function Qe(c){let t,e,l,r='<svg class="w-5 h-5 text-accent-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"></path></svg>',i,n,o,_=(c[18].vehicle||c[18].id)+"",u,m,E,I=c[18].id+"",D,L,H,h=c[18].is_default&&Ke();return{c(){t=f("div"),e=f("div"),l=f("div"),l.innerHTML=r,i=C(),n=f("div"),o=f("p"),u=oe(_),m=C(),E=f("p"),D=oe(I),L=C(),h&&h.c(),H=C(),this.h()},l(b){t=d(b,"DIV",{class:!0});var x=k(t);e=d(x,"DIV",{class:!0});var A=k(e);l=d(A,"DIV",{class:!0,"data-svelte-h":!0}),T(l)!=="svelte-1l3c7b3"&&(l.innerHTML=r),i=g(A),n=d(A,"DIV",{});var w=k(n);o=d(w,"P",{class:!0});var v=k(o);u=re(v,_),v.forEach(p),m=g(w),E=d(w,"P",{class:!0});var V=k(E);D=re(V,I),V.forEach(p),w.forEach(p),A.forEach(p),L=g(x),h&&h.l(x),H=g(x),x.forEach(p),this.h()},h(){s(l,"class","w-10 h-10 rounded-lg bg-accent-primary/20 flex items-center justify-center"),s(o,"class","font-medium text-carbon-100"),s(E,"class","text-sm text-carbon-500"),s(e,"class","flex items-center gap-4"),s(t,"class","card flex items-center justify-between animate-slide-up")},m(b,x){P(b,t,x),a(t,e),a(e,l),a(e,i),a(e,n),a(n,o),a(o,u),a(n,m),a(n,E),a(E,D),a(t,L),h&&h.m(t,null),a(t,H)},p(b,x){x&1&&_!==(_=(b[18].vehicle||b[18].id)+"")&&ke(u,_),x&1&&I!==(I=b[18].id+"")&&ke(D,I),b[18].is_default?h||(h=Ke(),h.c(),h.m(t,H)):h&&(h.d(1),h=null)},d(b){b&&p(t),h&&h.d()}}}function Xe(c){let t,e,l,r="Add New Vehicle",i,n,o="Cancel",_,u,m,E,I,D,L="Vehicle ID *",H,h,b,x,A="Used for CLI commands",w,v,V,S="Display Name",W,N,xe,Y,le,K,Pe="Plan Start Date *",we,F,Ee,se,Q,Ae="Plan End Date *",Ie,z,Ve,X,ae,Z,He="Annual Allowance (miles) *",De,j,Te,ne,$,je="Starting Odometer *",Me,U,Le,ee,G,Ne,R,Ue="Cancel",Be,qe,B=c[2]&&Ze(c);function Se(y,M){return y[5]?pt:ht}let ue=Se(c),J=ue(c);return{c(){t=f("div"),e=f("div"),l=f("h3"),l.textContent=r,i=C(),n=f("button"),n.textContent=o,_=C(),B&&B.c(),u=C(),m=f("form"),E=f("div"),I=f("div"),D=f("label"),D.textContent=L,H=C(),h=f("input"),b=C(),x=f("p"),x.textContent=A,w=C(),v=f("div"),V=f("label"),V.textContent=S,W=C(),N=f("input"),xe=C(),Y=f("div"),le=f("div"),K=f("label"),K.textContent=Pe,we=C(),F=f("input"),Ee=C(),se=f("div"),Q=f("label"),Q.textContent=Ae,Ie=C(),z=f("input"),Ve=C(),X=f("div"),ae=f("div"),Z=f("label"),Z.textContent=He,De=C(),j=f("input"),Te=C(),ne=f("div"),$=f("label"),$.textContent=je,Me=C(),U=f("input"),Le=C(),ee=f("div"),G=f("button"),J.c(),Ne=C(),R=f("button"),R.textContent=Ue,this.h()},l(y){t=d(y,"DIV",{class:!0});var M=k(t);e=d(M,"DIV",{class:!0});var de=k(e);l=d(de,"H3",{class:!0,"data-svelte-h":!0}),T(l)!=="svelte-f5sbi9"&&(l.textContent=r),i=g(de),n=d(de,"BUTTON",{class:!0,"data-svelte-h":!0}),T(n)!=="svelte-1lgvykg"&&(n.textContent=o),de.forEach(p),_=g(M),B&&B.l(M),u=g(M),m=d(M,"FORM",{class:!0});var te=k(m);E=d(te,"DIV",{class:!0});var fe=k(E);I=d(fe,"DIV",{});var ie=k(I);D=d(ie,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),T(D)!=="svelte-8mxj4z"&&(D.textContent=L),H=g(ie),h=d(ie,"INPUT",{type:!0,id:!0,placeholder:!0,class:!0}),b=g(ie),x=d(ie,"P",{class:!0,"data-svelte-h":!0}),T(x)!=="svelte-14mfi7q"&&(x.textContent=A),ie.forEach(p),w=g(fe),v=d(fe,"DIV",{});var he=k(v);V=d(he,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),T(V)!=="svelte-kdb3b"&&(V.textContent=S),W=g(he),N=d(he,"INPUT",{type:!0,id:!0,placeholder:!0,class:!0}),he.forEach(p),fe.forEach(p),xe=g(te),Y=d(te,"DIV",{class:!0});var pe=k(Y);le=d(pe,"DIV",{});var _e=k(le);K=d(_e,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),T(K)!=="svelte-1hww39i"&&(K.textContent=Pe),we=g(_e),F=d(_e,"INPUT",{type:!0,id:!0,class:!0}),_e.forEach(p),Ee=g(pe),se=d(pe,"DIV",{});var ve=k(se);Q=d(ve,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),T(Q)!=="svelte-1ufy3km"&&(Q.textContent=Ae),Ie=g(ve),z=d(ve,"INPUT",{type:!0,id:!0,class:!0}),ve.forEach(p),pe.forEach(p),Ve=g(te),X=d(te,"DIV",{class:!0});var me=k(X);ae=d(me,"DIV",{});var be=k(ae);Z=d(be,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),T(Z)!=="svelte-15hwwyu"&&(Z.textContent=He),De=g(be),j=d(be,"INPUT",{type:!0,id:!0,class:!0,min:!0}),be.forEach(p),Te=g(me),ne=d(me,"DIV",{});var ge=k(ne);$=d(ge,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),T($)!=="svelte-1bf3h6k"&&($.textContent=je),Me=g(ge),U=d(ge,"INPUT",{type:!0,id:!0,class:!0,min:!0}),ge.forEach(p),me.forEach(p),Le=g(te),ee=d(te,"DIV",{class:!0});var Ce=k(ee);G=d(Ce,"BUTTON",{type:!0,class:!0});var Oe=k(G);J.l(Oe),Oe.forEach(p),Ne=g(Ce),R=d(Ce,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),T(R)!=="svelte-h04fhz"&&(R.textContent=Ue),Ce.forEach(p),te.forEach(p),M.forEach(p),this.h()},h(){s(l,"class","text-lg font-semibold text-carbon-100"),s(n,"class","btn-ghost text-sm"),s(e,"class","flex items-center justify-between mb-6"),s(D,"for","vehicleId"),s(D,"class","label"),s(h,"type","text"),s(h,"id","vehicleId"),s(h,"placeholder","e.g., my_tesla"),s(h,"class","input"),h.required=!0,s(x,"class","text-xs text-carbon-500 mt-1"),s(V,"for","vehicleName"),s(V,"class","label"),s(N,"type","text"),s(N,"id","vehicleName"),s(N,"placeholder","e.g., Tesla Model 3"),s(N,"class","input"),s(E,"class","grid grid-cols-2 gap-4"),s(K,"for","startDate"),s(K,"class","label"),s(F,"type","date"),s(F,"id","startDate"),s(F,"class","input"),F.required=!0,s(Q,"for","endDate"),s(Q,"class","label"),s(z,"type","date"),s(z,"id","endDate"),s(z,"class","input"),z.required=!0,s(Y,"class","grid grid-cols-2 gap-4"),s(Z,"for","annualAllowance"),s(Z,"class","label"),s(j,"type","number"),s(j,"id","annualAllowance"),s(j,"class","input font-mono"),s(j,"min","1"),j.required=!0,s($,"for","startMiles"),s($,"class","label"),s(U,"type","number"),s(U,"id","startMiles"),s(U,"class","input font-mono"),s(U,"min","0"),U.required=!0,s(X,"class","grid grid-cols-2 gap-4"),s(G,"type","submit"),s(G,"class","btn-primary flex-1"),G.disabled=c[5],s(R,"type","button"),s(R,"class","btn-secondary"),s(ee,"class","flex gap-3 pt-4"),s(m,"class","space-y-6"),s(t,"class","card animate-slide-up")},m(y,M){P(y,t,M),a(t,e),a(e,l),a(e,i),a(e,n),a(t,_),B&&B.m(t,null),a(t,u),a(t,m),a(m,E),a(E,I),a(I,D),a(I,H),a(I,h),q(h,c[6].id),a(I,b),a(I,x),a(E,w),a(E,v),a(v,V),a(v,W),a(v,N),q(N,c[6].vehicle),a(m,xe),a(m,Y),a(Y,le),a(le,K),a(le,we),a(le,F),q(F,c[6].start_date),a(Y,Ee),a(Y,se),a(se,Q),a(se,Ie),a(se,z),q(z,c[6].end_date),a(m,Ve),a(m,X),a(X,ae),a(ae,Z),a(ae,De),a(ae,j),q(j,c[6].annual_allowance),a(X,Te),a(X,ne),a(ne,$),a(ne,Me),a(ne,U),q(U,c[6].start_miles),a(m,Le),a(m,ee),a(ee,G),J.m(G,null),a(ee,Ne),a(ee,R),Be||(qe=[O(n,"click",c[8]),O(h,"input",c[11]),O(N,"input",c[12]),O(F,"input",c[13]),O(z,"input",c[14]),O(j,"input",c[15]),O(U,"input",c[16]),O(R,"click",c[8]),O(m,"submit",st(c[7]))],Be=!0)},p(y,M){y[2]?B?B.p(y,M):(B=Ze(y),B.c(),B.m(t,u)):B&&(B.d(1),B=null),M&64&&h.value!==y[6].id&&q(h,y[6].id),M&64&&N.value!==y[6].vehicle&&q(N,y[6].vehicle),M&64&&q(F,y[6].start_date),M&64&&q(z,y[6].end_date),M&64&&ye(j.value)!==y[6].annual_allowance&&q(j,y[6].annual_allowance),M&64&&ye(U.value)!==y[6].start_miles&&q(U,y[6].start_miles),ue!==(ue=Se(y))&&(J.d(1),J=ue(y),J&&(J.c(),J.m(G,null))),M&32&&(G.disabled=y[5])},d(y){y&&p(t),B&&B.d(),J.d(),Be=!1,lt(qe)}}}function Ze(c){let t,e,l;return{c(){t=f("div"),e=f("p"),l=oe(c[2]),this.h()},l(r){t=d(r,"DIV",{class:!0});var i=k(t);e=d(i,"P",{class:!0});var n=k(e);l=re(n,c[2]),n.forEach(p),i.forEach(p),this.h()},h(){s(e,"class","text-gauge-red text-sm"),s(t,"class","mb-4 p-4 bg-gauge-red/10 border border-gauge-red/30 rounded-lg")},m(r,i){P(r,t,i),a(t,e),a(e,l)},p(r,i){i&4&&ke(l,r[2])},d(r){r&&p(t)}}}function ht(c){let t;return{c(){t=oe("Create Vehicle")},l(e){t=re(e,"Create Vehicle")},m(e,l){P(e,t,l)},d(e){e&&p(t)}}}function pt(c){let t;return{c(){t=oe("Creating...")},l(e){t=re(e,"Creating...")},m(e,l){P(e,t,l)},d(e){e&&p(t)}}}function _t(c){let t,e,l,r='<h1 class="text-3xl font-display font-bold text-carbon-100">Settings</h1> <p class="text-carbon-500 mt-2">Manage your vehicles and preferences</p>',i,n,o,_,u,m="Vehicles",E,I,D,L,H=`<h2 class="text-lg font-semibold text-carbon-100 mb-4">About MileMinder</h2> <div class="space-y-3 text-sm text-carbon-400"><p>MileMinder helps you track your vehicle mileage against PCP or insurance allowances.
				Both CLI and Web UI read/write to the same data files.</p> <div class="flex items-center gap-4 pt-2"><span class="flex items-center gap-2"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"></path></svg> <code class="text-xs bg-carbon-800 px-2 py-1 rounded">~/.mileminder/</code></span></div></div> <div class="mt-6 pt-4 border-t border-carbon-800 flex items-center justify-between text-sm"><span class="text-carbon-500">Built with Go + Svelte</span> <a href="https://github.com/JackIABishop/MileMinder" target="_blank" rel="noopener" class="text-accent-primary hover:underline">GitHub â†’</a></div>`,h=c[3]&&We(c),b=!c[4]&&Ye(c);function x(v,V){return v[1]?ut:ct}let A=x(c),w=A(c);return{c(){t=C(),e=f("div"),l=f("header"),l.innerHTML=r,i=C(),h&&h.c(),n=C(),o=f("section"),_=f("div"),u=f("h2"),u.textContent=m,E=C(),b&&b.c(),I=C(),w.c(),D=C(),L=f("section"),L.innerHTML=H,this.h()},l(v){et("svelte-ggcy43",document.head).forEach(p),t=g(v),e=d(v,"DIV",{class:!0});var S=k(e);l=d(S,"HEADER",{class:!0,"data-svelte-h":!0}),T(l)!=="svelte-12lnsul"&&(l.innerHTML=r),i=g(S),h&&h.l(S),n=g(S),o=d(S,"SECTION",{class:!0});var W=k(o);_=d(W,"DIV",{class:!0});var N=k(_);u=d(N,"H2",{class:!0,"data-svelte-h":!0}),T(u)!=="svelte-y2sw3u"&&(u.textContent=m),E=g(N),b&&b.l(N),N.forEach(p),I=g(W),w.l(W),W.forEach(p),D=g(S),L=d(S,"SECTION",{class:!0,"data-svelte-h":!0}),T(L)!=="svelte-sonkty"&&(L.innerHTML=H),S.forEach(p),this.h()},h(){document.title="Settings | MileMinder",s(l,"class","mb-8 animate-fade-in"),s(u,"class","text-xl font-semibold text-carbon-100"),s(_,"class","flex items-center justify-between mb-4"),s(o,"class","mb-8"),s(L,"class","card animate-slide-up stagger-3"),s(e,"class","p-8 max-w-3xl mx-auto")},m(v,V){P(v,t,V),P(v,e,V),a(e,l),a(e,i),h&&h.m(e,null),a(e,n),a(e,o),a(o,_),a(_,u),a(_,E),b&&b.m(_,null),a(o,I),w.m(o,null),a(e,D),a(e,L)},p(v,[V]){v[3]?h?h.p(v,V):(h=We(v),h.c(),h.m(e,n)):h&&(h.d(1),h=null),v[4]?b&&(b.d(1),b=null):b?b.p(v,V):(b=Ye(v),b.c(),b.m(_,null)),A===(A=x(v))&&w?w.p(v,V):(w.d(1),w=A(v),w&&(w.c(),w.m(o,null)))},i:ce,o:ce,d(v){v&&(p(t),p(e)),h&&h.d(),b&&b.d(),w.d()}}}function vt(c,t,e){let l=[],r=!0,i="",n="",o=!1,_=!1,u={id:"",vehicle:"",start_date:"",end_date:"",annual_allowance:1e4,start_miles:0};tt(async()=>{await m()});async function m(){e(1,r=!0);try{e(0,l=await rt())}catch(v){e(2,i=v instanceof Error?v.message:"Failed to load vehicles")}finally{e(1,r=!1)}}async function E(){if(!u.id||!u.start_date||!u.end_date){e(2,i="Please fill in all required fields");return}e(5,_=!0),e(2,i="");try{await ot({id:u.id.toLowerCase().replace(/\s+/g,"_"),vehicle:u.vehicle||u.id,start_date:u.start_date,end_date:u.end_date,annual_allowance:u.annual_allowance,start_miles:u.start_miles}),e(3,n=`Vehicle "${u.vehicle||u.id}" created successfully!`),e(4,o=!1),e(6,u={id:"",vehicle:"",start_date:"",end_date:"",annual_allowance:1e4,start_miles:0}),await m()}catch(v){e(2,i=v instanceof Error?v.message:"Failed to create vehicle")}finally{e(5,_=!1)}}function I(){e(4,o=!1),e(2,i=""),e(6,u={id:"",vehicle:"",start_date:"",end_date:"",annual_allowance:1e4,start_miles:0})}const D=()=>e(4,o=!0),L=()=>e(4,o=!0);function H(){u.id=this.value,e(6,u)}function h(){u.vehicle=this.value,e(6,u)}function b(){u.start_date=this.value,e(6,u)}function x(){u.end_date=this.value,e(6,u)}function A(){u.annual_allowance=ye(this.value),e(6,u)}function w(){u.start_miles=ye(this.value),e(6,u)}return[l,r,i,n,o,_,u,E,I,D,L,H,h,b,x,A,w]}class kt extends nt{constructor(t){super(),it(this,t,vt,_t,$e,{})}}export{kt as component};
