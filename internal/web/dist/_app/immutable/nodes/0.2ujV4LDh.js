import{s as De,C as Ae,d as f,a as ue,H as w,D as Ie,E as ze,F as Se,i as Z,b as r,v as Be,l as n,c as u,e as _,o as F,g as C,f as de,x as X,h as d,j as T,t as fe,y as Y,k as Ne,p as Fe,z as Pe,I as Oe}from"../chunks/CVjQFEho.js";import{S as Ue,i as qe,t as Ge,a as Je}from"../chunks/OdZnOW3T.js";import{e as je}from"../chunks/D6YF6ztN.js";import{p as Ke}from"../chunks/BJGtfrsa.js";import{l as Qe,g as Re,s as We}from"../chunks/DXV66Os-.js";function ye(t,e,s){const a=t.slice();return a[11]=e[s],a}function Ee(t){let e,s=je(t[0]),a=[];for(let o=0;o<s.length;o+=1)a[o]=xe(ye(t,s,o));return{c(){e=d("div");for(let o=0;o<a.length;o+=1)a[o].c();this.h()},l(o){e=u(o,"DIV",{class:!0});var g=_(e);for(let l=0;l<a.length;l+=1)a[l].l(g);g.forEach(f),this.h()},h(){n(e,"class","mt-2 py-2 bg-carbon-800 rounded-xl border border-carbon-700 animate-fade-in")},m(o,g){Z(o,e,g);for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(e,null)},p(o,g){if(g&35){s=je(o[0]);let l;for(l=0;l<s.length;l+=1){const h=ye(o,s,l);a[l]?a[l].p(h,g):(a[l]=xe(h),a[l].c(),a[l].m(e,null))}for(;l<a.length;l+=1)a[l].d(1);a.length=s.length}},d(o){o&&f(e),Pe(a,o)}}}function Le(t){let e,s;return{c(){e=Y("svg"),s=Y("path"),this.h()},l(a){e=X(a,"svg",{class:!0,fill:!0,viewBox:!0});var o=_(e);s=X(o,"path",{d:!0}),_(s).forEach(f),o.forEach(f),this.h()},h(){n(s,"d","M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"),n(e,"class","w-4 h-4"),n(e,"fill","currentColor"),n(e,"viewBox","0 0 24 24")},m(a,o){Z(a,e,o),r(e,s)},d(a){a&&f(e)}}}function xe(t){let e,s,a=(t[11].vehicle||t[11].id)+"",o,g,l,h,k,c=t[11].id===t[1]&&Le();function P(){return t[9](t[11])}return{c(){e=d("button"),s=d("span"),o=fe(a),g=T(),c&&c.c(),l=T(),this.h()},l(H){e=u(H,"BUTTON",{class:!0});var v=_(e);s=u(v,"SPAN",{});var y=_(s);o=de(y,a),y.forEach(f),g=C(v),c&&c.l(v),l=C(v),v.forEach(f),this.h()},h(){n(e,"class","w-full px-4 py-2 text-left text-sm hover:bg-carbon-700/50 transition-colors flex items-center justify-between"),w(e,"text-accent-primary",t[11].id===t[1])},m(H,v){Z(H,e,v),r(e,s),r(s,o),r(e,g),c&&c.m(e,null),r(e,l),h||(k=Be(e,"click",Oe(P)),h=!0)},p(H,v){t=H,v&1&&a!==(a=(t[11].vehicle||t[11].id)+"")&&ue(o,a),t[11].id===t[1]?c||(c=Le(),c.c(),c.m(e,l)):c&&(c.d(1),c=null),v&3&&w(e,"text-accent-primary",t[11].id===t[1])},d(H){H&&f(e),c&&c.d(),h=!1,k()}}}function Xe(t){var we;let e,s,a,o='<div class="flex items-center gap-3"><div class="w-10 h-10 rounded-xl bg-gradient-to-br from-accent-primary to-accent-secondary flex items-center justify-center"><svg class="w-6 h-6 text-carbon-950" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg></div> <div><h1 class="font-display font-bold text-lg text-carbon-100">MileMinder</h1> <p class="text-xs text-carbon-500">Track your journey</p></div></div>',g,l,h,k,c,P='<svg class="w-4 h-4 text-accent-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"></path></svg>',H,v,y,p=(((we=t[3])==null?void 0:we.vehicle)||t[1]||"Select vehicle")+"",O,$,U,J,ee,E,N,te,ae,V,x,ve='<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg> <span>Dashboard</span>',se,B,pe='<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg> <span>Add Mileage</span>',le,D,me='<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"></path></svg> <span>Graph</span>',re,A,_e='<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path></svg> <span>Fleet</span>',ne,I,ge='<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span>History</span>',oe,q,z,ke='<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg> <span>Settings</span>',ie,G,M,ce,be,b=t[2]&&t[0].length>0&&Ee(t);const he=t[7].default,j=Ae(he,t,t[6],null);return{c(){e=d("div"),s=d("aside"),a=d("div"),a.innerHTML=o,g=T(),l=d("div"),h=d("button"),k=d("div"),c=d("div"),c.innerHTML=P,H=T(),v=d("div"),y=d("p"),O=fe(p),$=T(),U=d("p"),J=fe(t[1]),ee=T(),E=Y("svg"),N=Y("path"),te=T(),b&&b.c(),ae=T(),V=d("nav"),x=d("a"),x.innerHTML=ve,se=T(),B=d("a"),B.innerHTML=pe,le=T(),D=d("a"),D.innerHTML=me,re=T(),A=d("a"),A.innerHTML=_e,ne=T(),I=d("a"),I.innerHTML=ge,oe=T(),q=d("div"),z=d("a"),z.innerHTML=ke,ie=T(),G=d("main"),j&&j.c(),this.h()},l(i){e=u(i,"DIV",{class:!0});var m=_(e);s=u(m,"ASIDE",{class:!0});var L=_(s);a=u(L,"DIV",{class:!0,"data-svelte-h":!0}),F(a)!=="svelte-1wbn4s3"&&(a.innerHTML=o),g=C(L),l=u(L,"DIV",{class:!0});var K=_(l);h=u(K,"BUTTON",{class:!0});var Q=_(h);k=u(Q,"DIV",{class:!0});var R=_(k);c=u(R,"DIV",{class:!0,"data-svelte-h":!0}),F(c)!=="svelte-jxiudp"&&(c.innerHTML=P),H=C(R),v=u(R,"DIV",{class:!0});var W=_(v);y=u(W,"P",{class:!0});var Me=_(y);O=de(Me,p),Me.forEach(f),$=C(W),U=u(W,"P",{class:!0});var He=_(U);J=de(He,t[1]),He.forEach(f),W.forEach(f),R.forEach(f),ee=C(Q),E=X(Q,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var Ve=_(E);N=X(Ve,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),_(N).forEach(f),Ve.forEach(f),Q.forEach(f),te=C(K),b&&b.l(K),K.forEach(f),ae=C(L),V=u(L,"NAV",{class:!0});var S=_(V);x=u(S,"A",{href:!0,class:!0,"data-svelte-h":!0}),F(x)!=="svelte-17knb3"&&(x.innerHTML=ve),se=C(S),B=u(S,"A",{href:!0,class:!0,"data-svelte-h":!0}),F(B)!=="svelte-jgrhp0"&&(B.innerHTML=pe),le=C(S),D=u(S,"A",{href:!0,class:!0,"data-svelte-h":!0}),F(D)!=="svelte-vo7ex6"&&(D.innerHTML=me),re=C(S),A=u(S,"A",{href:!0,class:!0,"data-svelte-h":!0}),F(A)!=="svelte-rifngd"&&(A.innerHTML=_e),ne=C(S),I=u(S,"A",{href:!0,class:!0,"data-svelte-h":!0}),F(I)!=="svelte-o0hmzo"&&(I.innerHTML=ge),S.forEach(f),oe=C(L),q=u(L,"DIV",{class:!0});var Ce=_(q);z=u(Ce,"A",{href:!0,class:!0,"data-svelte-h":!0}),F(z)!=="svelte-jvvck8"&&(z.innerHTML=ke),Ce.forEach(f),L.forEach(f),ie=C(m),G=u(m,"MAIN",{class:!0});var Te=_(G);j&&j.l(Te),Te.forEach(f),m.forEach(f),this.h()},h(){n(a,"class","p-6 border-b border-carbon-800"),n(c,"class","w-8 h-8 rounded-lg bg-accent-primary/20 flex items-center justify-center"),n(y,"class","text-sm font-medium text-carbon-100"),n(U,"class","text-xs text-carbon-500"),n(v,"class","text-left"),n(k,"class","flex items-center gap-3"),n(N,"stroke-linecap","round"),n(N,"stroke-linejoin","round"),n(N,"stroke-width","2"),n(N,"d","M19 9l-7 7-7-7"),n(E,"class","w-4 h-4 text-carbon-400 transition-transform"),n(E,"fill","none"),n(E,"stroke","currentColor"),n(E,"viewBox","0 0 24 24"),w(E,"rotate-180",t[2]),n(h,"class","w-full flex items-center justify-between p-3 rounded-xl bg-carbon-800/50 hover:bg-carbon-800 transition-colors"),n(l,"class","p-4 border-b border-carbon-800"),n(x,"href","/"),n(x,"class","nav-link"),w(x,"active",t[4].url.pathname==="/"),n(B,"href","/add"),n(B,"class","nav-link"),w(B,"active",t[4].url.pathname==="/add"),n(D,"href","/graph"),n(D,"class","nav-link"),w(D,"active",t[4].url.pathname==="/graph"),n(A,"href","/fleet"),n(A,"class","nav-link"),w(A,"active",t[4].url.pathname==="/fleet"),n(I,"href","/history"),n(I,"class","nav-link"),w(I,"active",t[4].url.pathname==="/history"),n(V,"class","flex-1 p-4 space-y-1"),n(z,"href","/settings"),n(z,"class","nav-link"),w(z,"active",t[4].url.pathname==="/settings"),n(q,"class","p-4 border-t border-carbon-800"),n(s,"class","w-64 bg-carbon-900/40 border-r border-carbon-800 flex flex-col"),n(G,"class","flex-1 overflow-auto"),n(e,"class","min-h-screen flex")},m(i,m){Z(i,e,m),r(e,s),r(s,a),r(s,g),r(s,l),r(l,h),r(h,k),r(k,c),r(k,H),r(k,v),r(v,y),r(y,O),r(v,$),r(v,U),r(U,J),r(h,ee),r(h,E),r(E,N),r(l,te),b&&b.m(l,null),r(s,ae),r(s,V),r(V,x),r(V,se),r(V,B),r(V,le),r(V,D),r(V,re),r(V,A),r(V,ne),r(V,I),r(s,oe),r(s,q),r(q,z),r(e,ie),r(e,G),j&&j.m(G,null),M=!0,ce||(be=Be(h,"click",t[8]),ce=!0)},p(i,[m]){var L;(!M||m&10)&&p!==(p=(((L=i[3])==null?void 0:L.vehicle)||i[1]||"Select vehicle")+"")&&ue(O,p),(!M||m&2)&&ue(J,i[1]),(!M||m&4)&&w(E,"rotate-180",i[2]),i[2]&&i[0].length>0?b?b.p(i,m):(b=Ee(i),b.c(),b.m(l,null)):b&&(b.d(1),b=null),(!M||m&16)&&w(x,"active",i[4].url.pathname==="/"),(!M||m&16)&&w(B,"active",i[4].url.pathname==="/add"),(!M||m&16)&&w(D,"active",i[4].url.pathname==="/graph"),(!M||m&16)&&w(A,"active",i[4].url.pathname==="/fleet"),(!M||m&16)&&w(I,"active",i[4].url.pathname==="/history"),(!M||m&16)&&w(z,"active",i[4].url.pathname==="/settings"),j&&j.p&&(!M||m&64)&&Ie(j,he,i,i[6],M?Se(he,i[6],m,null):ze(i[6]),null)},i(i){M||(Je(j,i),M=!0)},o(i){Ge(j,i),M=!1},d(i){i&&f(e),b&&b.d(),j&&j.d(i),ce=!1,be()}}}function Ye(t,e,s){let a,o;Ne(t,Ke,p=>s(4,o=p));let{$$slots:g={},$$scope:l}=e,h=[],k="",c=!1;Fe(async()=>{await P()});async function P(){try{s(0,h=await Qe());const p=await Re();s(1,k=p.current||(h.length>0?h[0].id:""))}catch(p){console.error("Failed to load vehicles:",p)}}async function H(p){try{await We(p),s(1,k=p),s(2,c=!1),window.location.reload()}catch(O){console.error("Failed to switch vehicle:",O)}}const v=()=>s(2,c=!c),y=p=>H(p.id);return t.$$set=p=>{"$$scope"in p&&s(6,l=p.$$scope)},t.$$.update=()=>{t.$$.dirty&3&&s(3,a=h.find(p=>p.id===k))},[h,k,c,a,o,H,l,g,v,y]}class st extends Ue{constructor(e){super(),qe(this,e,Ye,Xe,De,{})}}export{st as component};
