const t="/api";async function r(e,n){const a=await fetch(e,{...n,headers:{"Content-Type":"application/json",...n==null?void 0:n.headers}});if(!a.ok){const o=await a.text();throw new Error(o||`HTTP ${a.status}`)}return a.json()}async function c(){return r(`${t}/vehicles`)}async function i(e){return r(`${t}/vehicles/${encodeURIComponent(e)}`)}async function s(e){return r(`${t}/vehicles`,{method:"POST",body:JSON.stringify(e)})}async function u(e,n){return r(`${t}/vehicles/${encodeURIComponent(e)}/readings`,{method:"POST",body:JSON.stringify(n)})}async function l(e){return r(`${t}/vehicles/${encodeURIComponent(e)}/readings`)}async function g(e,n){return r(`${t}/vehicles/${encodeURIComponent(e)}/readings/${encodeURIComponent(n)}`,{method:"DELETE"})}async function h(e){return r(`${t}/vehicles/${encodeURIComponent(e)}/graph`)}async function d(){return r(`${t}/current`)}async function f(e){return r(`${t}/current`,{method:"PUT",body:JSON.stringify({id:e})})}async function m(){return r(`${t}/fleet`)}function y(e){return`${t}/vehicles/${encodeURIComponent(e)}/export`}function $(e){return e?new Date(e).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"-"}function p(e,n=0){return e.toLocaleString("en-GB",{minimumFractionDigits:n,maximumFractionDigits:n})}function R(e){return e<=0?{color:"text-gauge-green",icon:"✓",label:"Within allowance"}:e<=500?{color:"text-gauge-amber",icon:"⚠",label:"Slightly over limit"}:{color:"text-gauge-red",icon:"✗",label:"Over limit"}}export{i as a,u as b,m as c,$ as d,l as e,p as f,d as g,y as h,g as i,s as j,R as k,c as l,h as m,f as s};
